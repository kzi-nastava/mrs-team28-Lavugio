<div class="hidden sm:flex text-[#FEFAE0] gap-4 items-center">
  @if (isAuthenticated()) {
    @if (isRegularUser()){
      @if (hasLatestRide()){
        <app-link [route]="'/' + latestRideId() + '/ride-overview'">Latest ride</app-link>
      }
      <app-link [route]="'/find-trip'">Order ride</app-link>
    }
    @if (isAdmin()) {
      <app-link [route]="'/admin-panel'">Admin Panel</app-link>
    }
    @if (isDriver()) {
      <button 
        (click)="onToggleStatus()" 
        [disabled]="statusLoading()"
        class="rounded-md cursor-pointer transition duration-300 px-4 py-2 text-sm"
        [ngClass]="driverActive() ? 'bg-green-600 hover:bg-green-700' : 'bg-red-600 hover:bg-red-700'"
        [class.opacity-50]="statusLoading()">
        {{ statusLoading() ? 'Updating...' : (driverActive() ? 'Online' : 'Offline') }}
      </button>
      <app-link [route]="'/ride-history-driver'">History</app-link>
    }

    <app-link>Reports</app-link>
    <app-link [route]="'/profile'">Profile</app-link>

    <button (click)="onLogout()" 
            class="bg-[#283618] rounded-md cursor-pointer hover:bg-[#606C38] transition duration-300 px-4 py-2">
      Logout
    </button>
   
  } @else {
    <a [routerLink]="['/login']"
       class="border-2 border-[#FEFAE0] rounded-md cursor-pointer hover:bg-[#FEFAE0] hover:text-[#BC6C25] hover:border-[#BC6C25] transition duration-300 px-4 py-2">
      Log in
    </a>

    <a [routerLink]="['/register']"
       class="bg-[#283618] rounded-md cursor-pointer hover:bg-[#606C38] transition duration-300 px-4 py-2">
      Register
    </a>
  }
</div>

<button (click)="toggleMenu()" class="sm:hidden focus:outline-none text-[#FEFAE0] w-10 h-10 cursor-pointer">
  @if (isMenuOpen){
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-full h-full pointer-events-none">
      <path fill-rule="evenodd" d="M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z" clip-rule="evenodd" />
    </svg>
  } @else {
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-full h-full pointer-events-none">
      <path fill-rule="evenodd" d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd" />
    </svg>
  }
</button>