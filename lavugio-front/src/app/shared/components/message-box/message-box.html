<div class="flex flex-col w-full h-full z-9999" style="background-color: #FEFAE0;">

  <div class="shrink-0 px-4 py-3" style="background-color: #606C38;">
    <h3 class="font-semibold text-[#FEFAE0]">Conversation</h3>
  </div>

  <div #scrollContainer class="flex-1 overflow-y-auto px-4 py-4 space-y-2 min-h-0">
    @for (message of messages; track message.timestamp) {
      <app-message 
        [senderId]="message.senderId"
        [text]="message.text">
      </app-message>
    }
  </div>

  <div class="shrink-0 px-4 py-3" style="background-color: #606C38;">
    <div class="flex gap-2">
      <input 
        type="text"
        [(ngModel)]="newMessage"
        (keyup.enter)="sendMessage()"
        placeholder="Type a message..."
        class="flex-1 px-4 py-2 rounded-full focus:outline-none transition-colors"
        style="border: 1px solid #DDA15E; background-color: #FEFAE0; color: #283618;"
      >
      
      <button 
        (click)="sendMessage()"
        [disabled]="!newMessage.trim()"
        class="px-6 py-2 rounded-full transition-colors"
        [ngStyle]="{
          'background-color': newMessage.trim() ? '#BC6C25' : '#DDA15E',
          'color': newMessage.trim() ? '#FEFAE0' : '#283618',
          'cursor': newMessage.trim() ? 'pointer' : 'not-allowed'
        }"
      >
        Send
      </button>
    </div>
  </div>
</div>
